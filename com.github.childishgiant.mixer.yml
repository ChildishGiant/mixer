# This is the same ID that you've used in meson.build and other files
app-id: com.github.childishgiant.mixer

# Instead of manually specifying a long list of build and runtime dependencies,
# we can use a convenient pre-made runtime and SDK.
runtime: org.gnome.Platform
runtime-version: '43'
sdk: org.gnome.Sdk


# This should match the exec line in your .desktop file and usually is the same
# as your app ID
command: com.github.childishgiant.mixer

# Here we can specify the kinds of permissions our app needs to run.
finish-args:
  - '--share=ipc'
  - '--socket=fallback-x11'
  - '--socket=wayland'
  - '--socket=pulseaudio'
  - '--device=all' # Required for audio devices

# This section is used to remove files produced by the build process that are not
# wanted as part of the application, such as headers or developer documentation.
cleanup:
  - /include
  - /lib/pkgconfig
  - /man
  - /share/doc
  - /share/gtk-doc
  - /share/man
  - /share/pkgconfig
  - /share/vala
  - '*.la'
  - '*.a'

# This section is where you list all the source code required to build your app.
# If we had external dependencies that weren't included in our SDK, we would list
# them here.
modules:
  - name: blueprint-compiler
    buildsystem: meson
    sources:
      - type: git
        url: https://gitlab.gnome.org/jwestman/blueprint-compiler.git
        tag: v0.6.0
  - name: mixer
    builddir: true
    buildsystem: meson
    sources:
      - type: dir
        path: .
